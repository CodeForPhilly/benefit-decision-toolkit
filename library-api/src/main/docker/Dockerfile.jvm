# Use Kogito runtime image with Java 17
FROM quay.io/kiegroup/kogito-runtime-jvm:1.44.1

ENV RUNTIME_TYPE=quarkus
ENV JAVA_HOME=/usr/lib/jvm/java-17
ENV PATH=$JAVA_HOME/bin:$PATH

# Copy the pre-built application (built by GitHub Actions before Docker)
COPY target/quarkus-app/lib/ $KOGITO_HOME/bin/lib/
COPY target/quarkus-app/*.jar $KOGITO_HOME/bin/
COPY target/quarkus-app/app/ $KOGITO_HOME/bin/app/
COPY target/quarkus-app/quarkus/ $KOGITO_HOME/bin/quarkus/
